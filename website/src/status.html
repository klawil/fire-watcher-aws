---
title: System Stats
layout: base
hasMap: true
noLoading: true
---

<h3 class="text-center">Adjacent Sites (Updates Every 5m)</h3>
<div class="row">
	<div class="col-md-6 offset-md-3">
		<div id="map"></div>
	</div>
</div>
<div class="row m-3">
	<div class="btn btn-block btn-info" id="site-update-button">Update</div>
</div>
<div class="table-responsive">
	<table class="table table-striped">
		<thead><tr class="text-center">
			<th>Site</th>
			<th>Name</th>
			<th>County</th>
			<th class="text-center">Failed</th>
			<th>Flags</th>
			<th>Services</th>
			<th>Seen By</th>
			<th>Updated</th>
		</tr></thead>
		<tbody style="font-family:monospace" id="adjacent-sites"></tbody>
	</table>
</div>

<h3 class="text-center">Saguache Tower Decode Rate</h3>
<div class="row"><div class="col-12 position-relative"><canvas id="sag-tower"></canvas></div></div>
<h3 class="text-center">Pool Table Decode Rate</h3>
<div class="row"><div class="col-12 position-relative"><canvas id="pool-table-tower"></canvas></div></div>
<h3 class="text-center">Alamosa Tower Decode Rate</h3>
<div class="row"><div class="col-12 position-relative"><canvas id="ala-tower"></canvas></div></div>
<h3 class="text-center">San Antonio Peak Decode Rate</h3>
<div class="row"><div class="col-12 position-relative"><canvas id="sa-tower"></canvas></div></div>
<h3 class="text-center">VHF Heartbeats</h3>
<div class="row"><div class="col-12 position-relative"><canvas id="vhf-heartbeat"></canvas></div></div>
<h3 class="text-center">Texts Sent</h3>
<div class="row"><div class="col-12 position-relative"><canvas id="texts-count"></canvas></div></div>
<h3 class="text-center">Text Times</h3>
<div class="row"><div class="col-12 position-relative"><canvas id="texts-time"></canvas></div></div>
<h3 class="text-center">S3 Uploads</h3>
<div class="row"><div class="col-12 position-relative"><canvas id="s3-uploads"></canvas></div></div>
<h3 class="text-center">S3 Upload Delay</h3>
<div class="row"><div class="col-12 position-relative"><canvas id="s3-uploads-time"></canvas></div></div>
<h3 class="text-center">Function Calls</h3>
<div class="row"><div class="col-12 position-relative"><canvas id="api-calls"></canvas></div></div>
<h3 class="text-center">Function Duration</h3>
<div class="row"><div class="col-12 position-relative"><canvas id="api-duration"></canvas></div></div>
<h3 class="text-center">Function Duration Max</h3>
<div class="row"><div class="col-12 position-relative"><canvas id="api-duration-max"></canvas></div></div>
<h3 class="text-center">Function Errors</h3>
<div class="row"><div class="col-12 position-relative"><canvas id="api-errors"></canvas></div></div>
<div class="d-none requireDistrictAdmin">
	<h3 class="text-center">Twilio Cost - Total</h3>
	<div class="row">
		<div class="col-lg-6 position-relative" style="max-height: 400px;"><canvas id="cost-total-last"></canvas></div>
		<div class="col-lg-6 position-relative" style="max-height: 400px;"><canvas id="cost-total-this"></canvas></div>
	</div>
	<h3 class="text-center">Twilio Cost - NSCAD</h3>
	<div class="row">
		<div class="col-lg-6 position-relative" style="max-height: 400px;"><canvas id="cost-NSCAD-last"></canvas></div>
		<div class="col-lg-6 position-relative" style="max-height: 400px;"><canvas id="cost-NSCAD-this"></canvas></div>
	</div>
	<h3 class="text-center">Twilio Cost - Baca</h3>
	<div class="row">
		<div class="col-lg-6 position-relative" style="max-height: 400px;"><canvas id="cost-Baca-last"></canvas></div>
		<div class="col-lg-6 position-relative" style="max-height: 400px;"><canvas id="cost-Baca-this"></canvas></div>
	</div>
	<h3 class="text-center">Twilio Cost - Crestone</h3>
	<div class="row">
		<div class="col-lg-6 position-relative" style="max-height: 400px;"><canvas id="cost-Crestone-last"></canvas></div>
		<div class="col-lg-6 position-relative" style="max-height: 400px;"><canvas id="cost-Crestone-this"></canvas></div>
	</div>
	<h3 class="text-center">Twilio Cost - Saguache</h3>
	<div class="row">
		<div class="col-lg-6 position-relative" style="max-height: 400px;"><canvas id="cost-Saguache-last"></canvas></div>
		<div class="col-lg-6 position-relative" style="max-height: 400px;"><canvas id="cost-Saguache-this"></canvas></div>
	</div>
</div>

{% assign randomNumber = "now" | date: "%N" %}
<script src="/libs/leaflet.js?v={{ randomNumber }}"></script>
<script async src="/js/status.js?v={{ randomNumber }}"></script>
